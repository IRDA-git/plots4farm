% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/img_per_plots.R
\name{img_per_plots}
\alias{img_per_plots}
\title{Associe des photos à des parcelles et numéros de champ, et les classe en dossiers}
\usage{
img_per_plots(parcelles, photos, field_path, proj = 4326, output_dir)
}
\arguments{
\item{parcelles}{Chemin vers le fichier vectoriel des parcelles contenant la colonne \code{Name}.}

\item{photos}{Chemin vers le dossier contenant les fichiers image.}

\item{field_path}{Chemin vers le fichier vectoriel des champs contenant la colonne \code{NoChamp}.}

\item{proj}{EPSG ou CRS cible pour la projection (par défaut 4326).}

\item{output_dir}{Chemin vers le dossier racine où classer les photos (créera sous-dossiers).}
}
\value{
Un objet sf POINT avec les colonnes :
\itemize{
\item \code{Photo}   : chemin original du fichier image
\item \code{NoChamp} : numéro du champ (ou NA)
\item \code{Name}    : nom de la parcelle intersectée (ou NA)
\item \code{geometry}: coordonnées projetées
}
}
\description{
Lit un shapefile de champs et un shapefile de parcelles, ainsi qu'un dossier de photos,
extrait les coordonnées GPS EXIF, crée un sf de points, projette,
joint spatialement avec les champs (NoChamp), puis avec les parcelles (Name),
et copie chaque fichier photo dans un dossier organisé par NoChamp/Name.
}
\examples{
\dontrun{
result <- img_per_plots(
  parcelles  = "plots_C200.shp",
  field_path = "Champs.json",
  photos     = "photos_folder/",
  proj       = 32188,
  output_dir = "sorted_photos/"
)
}
}
